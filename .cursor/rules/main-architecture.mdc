# NewsForge Pro - Production-Ready Architecture Rules

## üéØ **PROJECT VISION**
Transform the CLI-based [news_converter_service.py](mdc:news_converter_service.py) into a **commercial-grade WordPress-integrated SaaS** with AdSense monetization.

**Core Function**: News URL ‚Üí Social Media Optimized Content
**Target Users**: Content creators, marketers, social media managers
**Business Model**: Freemium + AdSense + Premium subscriptions

## üèóÔ∏è **ARCHITECTURE PRINCIPLES**

### **1. Zero-From-Scratch Approach**
- **NEVER modify existing prototype files** - Build production architecture from ground up
- Current [news_converter_service.py](mdc:news_converter_service.py) is reference only
- Focus on **commercial viability** over code reuse

### **2. Hybrid Architecture: WordPress + FastAPI**
```
WordPress Frontend (SEO-optimized)
    ‚Üì AJAX API calls
FastAPI Backend (High-performance processing)
    ‚Üì AI API calls
OpenAI/Anthropic (Content generation)
```

### **3. Technology Stack Standards**
- **Frontend**: WordPress 6.5+ with Custom Theme + React components
- **Backend**: FastAPI 0.104+ with Python 3.12+
- **Database**: PostgreSQL 15+ for analytics, WordPress MySQL for content
- **Cache**: Redis 7.0+ for performance optimization
- **Container**: Docker + Docker Compose for deployment
- **Monitoring**: Prometheus + Grafana for production monitoring

### **4. Commercial-First Development**
- **User Authentication**: WordPress native + JWT for API
- **Usage Limits**: Free (5/day), Premium (unlimited)
- **Payment Processing**: Stripe integration
- **Analytics**: Google Analytics 4 + custom usage tracking
- **SEO Optimization**: WordPress SEO plugins + structured data

## üìä **BUSINESS REQUIREMENTS**

### **User Journey Flow**
1. **Landing Page** (WordPress) ‚Üí User registration
2. **Dashboard** (WordPress + React) ‚Üí Service interface
3. **API Processing** (FastAPI) ‚Üí News conversion
4. **Results Display** (WordPress) ‚Üí Social content output
5. **Usage Tracking** (Database) ‚Üí Limit enforcement

### **Revenue Streams**
- **AdSense**: Strategic ad placement on high-traffic pages
- **Premium Subscriptions**: $9.99/month unlimited usage
- **API Access**: $99/month for developers
- **White-label**: $299/month for agencies

## üîß **DEVELOPMENT STANDARDS**

### **Code Quality Requirements**
- **Type Safety**: TypeScript for frontend, Pydantic for backend
- **Error Handling**: Comprehensive try-catch with user-friendly messages
- **Logging**: Structured logging with correlation IDs
- **Testing**: 90%+ coverage for critical paths
- **Documentation**: API-first development with OpenAPI

### **Performance Benchmarks**
- **API Response Time**: < 5 seconds for news conversion
- **Page Load Speed**: < 2 seconds for WordPress pages
- **Uptime**: 99.9% availability target
- **Concurrent Users**: Support 100+ simultaneous conversions

### **Security Standards**
- **API Keys**: Encrypted storage with rotation capability
- **Rate Limiting**: Progressive limits based on user tier
- **Input Validation**: Sanitize all user inputs
- **HTTPS Only**: SSL/TLS encryption everywhere
- **CSRF Protection**: WordPress nonces + FastAPI CSRF tokens

## üé® **USER EXPERIENCE PRINCIPLES**

### **Mobile-First Design**
- **Responsive**: Bootstrap 5+ grid system
- **Touch-Friendly**: Minimum 44px touch targets
- **Fast Loading**: Image optimization + lazy loading
- **Offline Capability**: Service workers for basic functionality

### **Accessibility Standards**
- **WCAG 2.1 AA**: Full compliance for inclusive design
- **Screen Readers**: Proper semantic HTML + ARIA labels
- **Keyboard Navigation**: Full functionality without mouse
- **Color Contrast**: Minimum 4.5:1 ratio

## üöÄ **DEPLOYMENT STRATEGY**

### **Environment Management**
- **Development**: Local Docker Compose
- **Staging**: AWS/GCP staging environment
- **Production**: Kubernetes cluster with auto-scaling
- **CDN**: CloudFlare for global content delivery

### **CI/CD Pipeline**
- **Version Control**: Git with semantic versioning
- **Automated Testing**: GitHub Actions + pytest + Jest
- **Deployment**: Blue-green deployment with rollback capability
- **Monitoring**: Real-time alerts for system health

## üéØ **SUCCESS METRICS**

### **Technical KPIs**
- **Conversion Success Rate**: > 95%
- **API Error Rate**: < 0.1%
- **Page Speed Score**: > 90 (Google PageSpeed)
- **SEO Score**: > 95 (WordPress SEO plugins)

### **Business KPIs**
- **User Acquisition**: 1000+ monthly signups
- **Premium Conversion**: 5%+ freemium to paid
- **AdSense Revenue**: $500+ monthly
- **User Retention**: 70%+ monthly active users

## ‚ö° **DEVELOPMENT PRIORITIES**

### **Phase 1: Foundation (Week 1-2)**
1. WordPress installation + custom theme
2. FastAPI backend service architecture
3. Database schema design
4. Docker containerization

### **Phase 2: Core Features (Week 3-4)**
1. User authentication system
2. News extraction API integration
3. AI content generation pipeline
4. Usage tracking and limits

### **Phase 3: Monetization (Week 5-6)**
1. AdSense integration + optimization
2. Stripe payment processing
3. Premium feature gates
4. Analytics dashboard

### **Phase 4: Production (Week 7-8)**
1. Performance optimization
2. Security hardening
3. SEO optimization
4. Production deployment

## üõ°Ô∏è **QUALITY ASSURANCE**

### **Definition of Done**
- [ ] Code review approved by senior developer
- [ ] Unit tests passing (90%+ coverage)
- [ ] Integration tests passing
- [ ] Performance benchmarks met
- [ ] Security scan passed
- [ ] Accessibility audit completed
- [ ] SEO optimization verified

### **Critical Path Testing**
- [ ] User registration ‚Üí Premium conversion flow
- [ ] News URL ‚Üí Social content generation
- [ ] Payment processing ‚Üí Feature activation
- [ ] Usage limits ‚Üí Enforcement accuracy
- [ ] AdSense ‚Üí Revenue optimization

**Remember**: Every decision should prioritize **user value** and **commercial viability** over technical complexity. Build for scale, optimize for revenue, design for users.
